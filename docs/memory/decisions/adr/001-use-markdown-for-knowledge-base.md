# ADR 001: 使用 Markdown 作为知识库格式

## 状态
**已采纳** - 2026-02-09

## 上下文
我们需要选择一个文档格式来构建 AI Assistant 的知识库系统。主要考虑的选项包括：
- Markdown
- JSON
- XML
- 数据库存储
- Wiki 系统

### 需求
1. 易于人类阅读和编辑
2. Git 版本控制友好
3. 支持结构化内容
4. AI 容易解析
5. 跨平台兼容性好
6. 低维护成本

## 决策
选择 **Markdown** 作为知识库的主要文档格式。

## 理由

### 优点
1. **可读性强**
   - 纯文本格式，任何编辑器都可打开
   - 即使不渲染也能轻松阅读
   - 学习曲线平缓

2. **Git 友好**
   - 文本格式，diff 和 merge 清晰
   - 易于追踪变更历史
   - 支持分支和协作

3. **生态丰富**
   - 大量工具支持（VSCode, Typora, etc.）
   - 可转换为多种格式（HTML, PDF, etc.）
   - 静态网站生成器支持（VitePress, Docusaurus）

4. **AI 解析友好**
   - 结构清晰，易于提取信息
   - 大多数 AI 模型训练时包含 Markdown
   - 可以嵌入代码块、表格等结构化数据

5. **维护成本低**
   - 不需要专门的编辑器
   - 不需要数据库维护
   - 文件系统直接管理

### 缺点及缓解方案
1. **缺少严格的结构验证**
   - 缓解: 使用约定的文档模板
   - 缓解: AI 辅助检查格式一致性

2. **不适合复杂查询**
   - 缓解: 必要时建立索引文件
   - 缓解: 未来可引入全文搜索引擎

3. **大文件性能问题**
   - 缓解: 控制单文件大小，合理拆分
   - 缓解: 使用目录结构组织文档

## 替代方案

### JSON
- **优点**: 结构化强，易于程序解析
- **缺点**: 人类可读性差，不适合长文档
- **为何未选**: 知识库主要是文本内容，JSON 过于技术化

### 数据库
- **优点**: 查询能力强，数据一致性好
- **缺点**: 需要额外维护，不便于版本控制
- **为何未选**: 增加系统复杂度，与轻量化目标不符

### Wiki 系统
- **优点**: 功能丰富，协作友好
- **缺点**: 需要部署服务，依赖特定平台
- **为何未选**: 过于重量级，维护成本高

## 影响

### 正面影响
- 降低知识管理门槛
- 提升协作效率
- 便于知识迁移和备份
- 加速 AI 理解和应用知识

### 负面影响
- 需要制定文档规范
- 复杂查询需要额外工具支持
- 需要培养团队文档习惯

## 实施注意事项

1. **建立文档模板**
   - 为不同类型文档创建统一模板
   - 确保结构一致性

2. **命名规范**
   - 使用小写字母和连字符
   - 文件名要有描述性

3. **目录结构**
   - 按功能/领域分类
   - 保持层级简洁（3 层以内）

4. **Front Matter**
   - 必要时使用 YAML front matter 添加元数据
   - 便于后续索引和搜索

## 验证指标

- [ ] 团队成员能快速找到需要的文档
- [ ] AI 能准确理解和引用文档内容
- [ ] 文档更新频率达到预期
- [ ] Git 变更历史清晰可读

## 参考资料
- [CommonMark Specification](https://commonmark.org/)
- [GitHub Flavored Markdown](https://github.github.com/gfm/)
- [Markdown Guide](https://www.markdownguide.org/)

---
*作者: AI Assistant & User*
*审核: Pending*
*最后更新: 2026-02-09*
